# ══════════════════════════════════════════════════════════════════
# NEXUS Environment Configuration Template
# Copy to .env and fill in your values:  cp .env.template .env
# ══════════════════════════════════════════════════════════════════

# ── LLM API Keys ────────────────────────────────────────────────
# Primary: Z.ai / OpenAI-compatible endpoint
ZAI_OPENAI_API_KEY=
ZAI_OPENAI_BASE_URL=https://api.z.ai/api/openai/v1

# GLM API (alternative)
GLM_API_KEY=
GLM_API_BASE=

# Gemini
GEMINI_API_KEY=

# MiniMax
MINIMAX_API_KEY=

# ── Model Routing ───────────────────────────────────────────────
ENABLE_SMART_ROUTING=true
ENABLE_SUBSCRIPTION_FALLBACK=false
ROUTER_KEEP_CURRENT_MODEL_FIRST=false
ROUTER_CONTINUE_ON_NON_RETRYABLE_API_ERROR=true

# Budget control
DAILY_BUDGET_USD=1.00
BUDGET_ALERT_THRESHOLD=0.8

# ── Autonomy Settings ──────────────────────────────────────────
# Profiles: balanced | full_auto
AUTONOMY_PROFILE=full_auto
AUTONOMY_NO_HUMAN_PROMPTS=true

# ── Service Ports ───────────────────────────────────────────────
BRAIN_API_PORT=8766
LOOP_API_PORT=8767
MONITOR_PORT=5111

# ── Brain Daemon ────────────────────────────────────────────────
NEXUS_HEARTBEAT_INTERVAL=60

# ── Self-Reminder Engine ────────────────────────────────────────
SELF_REMINDER_ENABLED=true
# Sources and intervals are configured in src/brain/self_reminder.py

# ── OpenClaw Configuration ──────────────────────────────────────
# Execution mode: headless | hybrid | browser
OPENCLAW_EXECUTION_MODE=headless
OPENCLAW_ENABLED_FOR_AGENTS=true

# Extension automation (browser mode only)
OPENCLAW_EXTENSION_AUTOMATION_ENABLED=false
OPENCLAW_BROWSER_AUTO_START=false
OPENCLAW_BROWSER_TIMEOUT_MS=30000

# Self-healing
OPENCLAW_SELF_HEAL_ENABLED=false
OPENCLAW_SELF_HEAL_INTERVAL_SEC=20

# Runtime guard
OPENCLAW_FAIL_FAST_ON_ATTACH_STREAK=true
OPENCLAW_ATTACH_FAIL_STREAK_THRESHOLD=2
OPENCLAW_RUNTIME_DISABLE_SEC=600

# Circuit breaker
OPENCLAW_CIRCUIT_TRIGGER_COUNT=3
OPENCLAW_CIRCUIT_OPEN_SEC=60

# Queue
OPENCLAW_QUEUE_ENABLED=true
OPENCLAW_SESSION_QUEUE_MAX=80

# Policy
OPENCLAW_POLICY_MOSTLY_AUTO=true
API_RATE_LIMIT_OPENCLAW_PER_MIN=120

# ── Monitor Dashboard ──────────────────────────────────────────
MONITOR_AUTOPILOT_ENABLED=true
MONITOR_AUTOPILOT_INTERVAL_SEC=10
MONITOR_STUCK_THRESHOLD_SEC=240
MONITOR_RECOVERY_COOLDOWN_SEC=90
MONITOR_AUTO_APPROVE_SAFE_DECISIONS=true
MONITOR_AUTO_APPROVE_ALL_DECISIONS=true
MONITOR_AUTO_EXECUTE_COMMANDS=true
MONITOR_COMPUTER_CONTROL_ENABLED=true

# Dashboard access token (leave empty for no auth)
DASHBOARD_ACCESS_TOKEN=

# ── Rate Limiting ───────────────────────────────────────────────
API_RATE_LIMIT_CHAT_PER_MIN=24
API_RATE_LIMIT_COMMAND_PER_MIN=90

# ── Playwright (browser automation supplement) ──────────────────
PLAYWRIGHT_BACKEND=chromium
PLAYWRIGHT_MODE=headless
PLAYWRIGHT_DEFAULT_TIMEOUT_MS=30000

# ── Graceful Shutdown ───────────────────────────────────────────
GRACEFUL_SHUTDOWN_TIMEOUT_SEC=10
